function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function MapController(n){var e,t=this;t.founders=n.founders.map(function(n){return{id:n.id,coords:{latitude:n.latitude,longitude:n.longitude},options:{label:n.founder,title:n.founder}}}),e=t.founders[0],t.map={center:{latitude:parseFloat(e.coords.latitude),longitude:parseFloat(e.coords.longitude)},zoom:11}}function ImportController(n,e){function t(){o.text&&(e.parseCsv(o.text),e.setLocationHeader(r),e.convertFoundersArray(),n.go("main.map"))}var o=this,r={latitude:"Garage Latitude",longitude:"Garage Longitude"};o.text="",o.founders=[],o.submit=t}!function(){"use strict";angular.module("app.core",["ngAnimate","ngRoute","ngCookies","ngSanitize","ngResource","ngStorage","app.blocks","ui.router","ui.bootstrap"])}(),angular.module("app.core").factory("csvParser",["CSV",function(n){return{parse:function(e){var t=arguments.length<=1||void 0===arguments[1]?",":arguments[1];return n.COLUMN_SEPARATOR=t,n.parse(e)}}}]);var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}}();angular.module("app.core").factory("founderManager",["csvParser","R","Founder","$localStorage",function(n,e,t,o){var r=function(){function r(){_classCallCheck(this,r),this.headers=[],this.latitude=null,this.longitude=null,this.details=[]}return _createClass(r,[{key:"parseCsv",value:function(t){var o=this,r=[],a=n.parse(t);if(a.length>1){var i=a.shift();this.headers=e.map(e.trim,i),r=a.map(function(n){return e.zipObj(o.headers,n)})}this.foundersArray=r}},{key:"convertFoundersArray",value:function(){var n=this,o=e.map(function(e){return new t(e,{locationHeaders:{latitude:n.latitude,longitude:n.longitude},detailHeaders:n.details})},this.foundersArray);this.founders=o}},{key:"setLocationHeader",value:function(n){var e=n.latitude,t=n.longitude;this.latitude=e,this.longitude=t}},{key:"setDetailHeaders",value:function(n){this.details=n}},{key:"founders",get:function(){return this._founders?this._founders:o.founders?o.founders.map(function(n){return t.toFounder(n)}):[]},set:function(n){o.founders=n,this._founders=n}}]),r}();return new r}]),function(){"use strict";function n(n){n.configure({v:"3.20",libraries:"weather,geometry,visualization"})}angular.module("app.main",["app.core","uiGmapgoogle-maps"]).config(n),n.$inject=["uiGmapGoogleMapApiProvider"]}(),angular.module("app.main").controller("MapController",MapController),MapController.$inject=["founderManager"],angular.module("app.main").controller("ImportController",ImportController),ImportController.$inject=["$state","founderManager"],function(){"use strict";function n(n,e,t,o,r){function a(e,t){n.put(e,t||e)}function i(n){return{toState:function(r,a){e.replace().url(n),t.go(r,a),o.$digest()}}}function u(n){e.url(n),o.$digest()}function l(n){return{forStateAndView:function(e,o){var a=o?t.get(e).views[o]:t.get(e);return r.invoke(a.resolve[n])}}}return{mockTemplate:a,goFrom:i,goTo:u,resolve:l}}angular.module("app.core").factory("mockRouterHelper",n),n.$inject=["$templateCache","$location","$state","$rootScope","$injector"]}(),angular.module("app.core").factory("applicationTask",function(){return{init:function(){}}}),angular.module("app.core").constant("apiUrl",{}),function(){"use strict";angular.module("app.core").constant("mockFounders",[{id:1,companyName:"Google",name:"Larry Page & Sergey Brin",city:"Mountain View",country:"USA",postalCode:"CA 94043",street:"1600 Amphitheatre Pkwy",photo:"http://interviewsummary.com/wp-content/uploads/2013/07/larry-page-and-sergey-brin-of-google-620x400.jpg",homePage:"http://google.com",latitude:37.457674,longitude:"-122.163452"},{id:2,companyName:"Apple",name:"Steve Jobs & Steve Wozniak",city:"Cupertino",country:"USA",postalCode:"CA 95014",street:"1 Infinite Loop",photo:"http://i.dailymail.co.uk/i/pix/2013/02/08/article-2275512-172E13BB000005DC-732_634x505.jpg",homePage:"http://apple.com",latitude:37.3403188,longitude:"-122.0581469"},{id:3,companyName:"Microsoft",name:"Bill Gates",city:"Redmond",country:"USA",postalCode:"WA 98052-7329",street:"One Microsoft Way",photo:"http://postdefiance.com/wp-content/uploads/2013/02/bill-gates-microsoft-young.jpg",homePage:"http://microsoft.com",latitude:37.472189,longitude:"-122.190191"}])}(),angular.module("app.core").factory("Founder",function(){function n(n,e){this._data=n,this._latitude=e.locationHeaders.latitude,this._longitude=e.locationHeaders.longitude,this._detailHeaders=e.detailHeaders}return n.prototype={get id(){return this._data.Id},get latitude(){return parseFloat(this._data[this._latitude])},get longitude(){return parseFloat(this._data[this._longitude])},get founder(){return this._data.Founder}},n.toFounder=function(e){return new n(e._data,{locationHeaders:{latitude:e._latitude,longitude:e._longitude},detailHeaders:e._detailHeaders})},n}),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";function n(n,e,t){function o(n,o,a,i){function u(n,o){n.forEach(function(n){n.config.resolve=angular.extend(n.config.resolve||{},r.resolveAlways),e.state(n.state,n.config)}),o&&!g&&(g=!0,t.otherwise(o))}function l(){o.$on("$stateChangeError",function(e,t,o,r,a,u){if(!d){m.errors++,d=!0;var l=t&&(t.title||t.name||t.loadedTemplateUrl)||"unknown target",c="Error routing to "+l+". "+(u.data||"")+". <br/>"+(u.statusText||"")+": "+(u.status||"");i.warning(c,[t]),n.path("/")}})}function c(){l(),p()}function s(){return a.get()}function p(){o.$on("$stateChangeSuccess",function(n,e){m.changes++,d=!1;var t=r.docTitle+" "+(e.title||"");o.title=t})}var d=!1,g=!1,m={errors:0,changes:0},f={configureStates:u,getStates:s,stateCounts:m};return c(),f}var r={docTitle:void 0,resolveAlways:{}};n.html5Mode(!1),this.configure=function(n){angular.extend(r,n)},this.$get=o,o.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",n),n.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";function n(n){function e(e,t){n.error("Error: "+e,t)}function t(e,t){n.info("Info: "+e,t)}function o(e,t){n.info("Success: "+e,t)}function r(e,t){n.warn("Warning: "+e,t)}var a={showToasts:!0,error:e,info:t,success:o,warning:r,log:n.log};return a}angular.module("blocks.logger").factory("logger",n),n.$inject=["$log"]}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";function n(n){function e(e){return function(t){n.error(e,t)}}var t={catcher:e};return t}angular.module("blocks.exception").factory("exception",n),n.$inject=["logger"]}(),function(){"use strict";function n(){this.config={appErrorPrefix:void 0},this.configure=function(n){this.config.appErrorPrefix=n},this.$get=function(){return{config:this.config}}}function e(n){n.decorator("$exceptionHandler",t)}function t(n,e,t){return function(o,r){var a=e.config.appErrorPrefix||"",i={exception:o,cause:r};o.message=a+o.message,n(o,r),t.error(o.message,i)}}angular.module("blocks.exception").provider("exceptionHandler",n).config(e),e.$inject=["$provide"],t.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function n(n){n.configureStates(e())}function e(){return[{state:"main",config:{url:"/",ncyBreadcrumb:{label:"Home"},views:{"":{templateUrl:"layout/main-layout.html"},"context@main":{templateUrl:"main/main.html"}},resolve:{founders:t}}},{state:"main.import",config:{url:"import",ncyBreadcrumb:{label:"Import"},views:{"main-context":{controller:"ImportController",templateUrl:"main/import.html",controllerAs:"vm"}},resolve:{founders:t}}},{state:"main.map",config:{url:"map",ncyBreadcrumb:{label:"Map"},views:{"main-context":{controller:"MapController",templateUrl:"main/map.html",controllerAs:"vm"}},resolve:{founders:t}}}]}function t(n,e,t,o){t(o.founders.length?function(){n.go("main.map")}:function(){n.go("main.import")})}angular.module("app.main").run(n),n.$inject=["routerHelper"]}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";function n(n){var t="/";n.configureStates(e(),t)}function e(){return[]}angular.module("app.core").run(n),n.$inject=["routerHelper"]}(),function(){"use strict";angular.module("app.core").constant("R",R).constant("CSV",CSV)}(),function(){"use strict";function n(n,e,o){n.debugEnabled&&n.debugEnabled(!0),o.configure(t.appErrorPrefix),e.configure({docTitle:t.appTitle+": "})}var e=angular.module("app.core"),t={appErrorPrefix:"[app Error] ",appTitle:"ImHere"};e.config(n),n.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),angular.module("app.blocks",["blocks.exception","blocks.logger","blocks.router"]),function(){"use strict";angular.module("app",["app.core","app.main"]).run(["applicationTask",function(n){n.init()}])}(),function(){"use strict";angular.module("app").run(["$rootScope","$state","routerHelper",function(n,e,t){function o(){return[{state:"home",config:{url:"/",ncyBreadcrumb:{label:"Home"}}}]}function r(){n.$on("$stateChangeStart",function(n,t){var o={home:{targetState:"main"}};if(o[t.name]){n.preventDefault();var r=o[t.name];e.go(r.targetState,r.data)}})}t.configureStates(o()),r()}])}(),angular.module("app").run(["$templateCache",function(n){n.put("404.html",'<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Page Not Found :(</title><style>\n      ::-moz-selection {\n        background: #b3d4fc;\n        text-shadow: none;\n      }\n\n      ::selection {\n        background: #b3d4fc;\n        text-shadow: none;\n      }\n\n      html {\n        padding: 30px 10px;\n        font-size: 20px;\n        line-height: 1.4;\n        color: #737373;\n        background: #f0f0f0;\n        -webkit-text-size-adjust: 100%;\n        -ms-text-size-adjust: 100%;\n      }\n\n      html,\n      input {\n        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n      }\n\n      body {\n        max-width: 500px;\n        _width: 500px;\n        padding: 30px 20px 50px;\n        border: 1px solid #b3b3b3;\n        border-radius: 4px;\n        margin: 0 auto;\n        box-shadow: 0 1px 10px #a7a7a7, inset 0 1px 0 #fff;\n        background: #fcfcfc;\n      }\n\n      h1 {\n        margin: 0 10px;\n        font-size: 50px;\n        text-align: center;\n      }\n\n      h1 span {\n        color: #bbb;\n      }\n\n      h3 {\n        margin: 1.5em 0 0.5em;\n      }\n\n      p {\n        margin: 1em 0;\n      }\n\n      ul {\n        padding: 0 0 0 40px;\n        margin: 1em 0;\n      }\n\n      .container {\n        max-width: 380px;\n        _width: 380px;\n        margin: 0 auto;\n      }\n\n      /* google search */\n\n      #goog-fixurl ul {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      #goog-fixurl form {\n        margin: 0;\n      }\n\n      #goog-wm-qt,\n      #goog-wm-sb {\n        border: 1px solid #bbb;\n        font-size: 16px;\n        line-height: normal;\n        vertical-align: top;\n        color: #444;\n        border-radius: 2px;\n      }\n\n      #goog-wm-qt {\n        width: 220px;\n        height: 20px;\n        padding: 5px;\n        margin: 5px 10px 0 0;\n        box-shadow: inset 0 1px 1px #ccc;\n      }\n\n      #goog-wm-sb {\n        display: inline-block;\n        height: 32px;\n        padding: 0 10px;\n        margin: 5px 0 0;\n        white-space: nowrap;\n        cursor: pointer;\n        background-color: #f5f5f5;\n        background-image: -webkit-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        background-image: -moz-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        background-image: -ms-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        background-image: -o-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        *overflow: visible;\n        *display: inline;\n        *zoom: 1;\n      }\n\n      #goog-wm-sb:hover,\n      #goog-wm-sb:focus {\n        border-color: #aaa;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n        background-color: #f8f8f8;\n      }\n\n      #goog-wm-qt:hover,\n      #goog-wm-qt:focus {\n        border-color: #105cb6;\n        outline: 0;\n        color: #222;\n      }\n\n      input::-moz-focus-inner {\n        padding: 0;\n        border: 0;\n      }\n    </style></head><body><div class="container"><h1>Not found <span>:(</span></h1><p>Sorry, but the page you were trying to view does not exist.</p><p>It looks like this was the result of either:</p><ul><li>a mistyped address</li><li>an out-of-date link</li></ul><script>\n        var GOOG_FIXURL_LANG = (navigator.language || \'\').slice(0,2),GOOG_FIXURL_SITE = location.host;\n      </script><script src="//linkhelp.clients.google.com/tbproxy/lh/wm/fixurl.js"></script></div></body></html>'),n.put("index.html",'<!doctype html><html class="no-js"><head><meta charset="utf-8"><meta name="description" content=""><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Founder\'s Map</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><link rel="stylesheet" href="styles/main.css"></head><body ng-app="app"><div ui-view=""></div><script async="" defer="" src="https://maps.googleapis.com/maps/api/js?sensor=false">\n    </script><script>\n      (function(i,s,o,g,r,a,m){i[\'GoogleAnalyticsObject\']=r;i[r]=i[r]||function(){\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n      })(window,document,\'script\',\'//www.google-analytics.com/analytics.js\',\'ga\');\n\n      ga(\'create\', \'UA-31366910-5\', \'auto\');\n\n    </script></body></html>'),n.put("layout/main-layout.html",'<div ui-view="context"></div>'),n.put("main/import.html",'<div class="import"><h2>import</h2><textarea class="csv" ng-model="vm.text">\n  </textarea> <button ng-click="vm.submit()">Submit</button></div>'),n.put("main/main.html",'<h1>Founder\'s Map</h1><div ui-view="main-context"></div>'),n.put("main/map.html",'Map<ui-gmap-google-map center="vm.map.center" zoom="vm.map.zoom" dragging="vm.map.dragging" draggable="true" control="map.control"><ui-gmap-marker ng-repeat="f in vm.founders" coords="f.coords" options="f.options" idkey="f.id"><ui-gmap-window ng-cloak=""><div><p>{{f.options.title}}</p></div></ui-gmap-window></ui-gmap-marker></ui-gmap-google-map>')}]);